<!DOCTYPE html>
<html>
  <head>
    <title>Thirst Keeper</title>
    <link rel="manifest" href="/manifest.json">
    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async></script>
    <!-- <script>
      var OneSignal = window.OneSignal || [];
      OneSignal.push(["init", {
        appId: "27089081-c27e-454a-a2e0-975db773550d",
        autoRegister: false,
        notifyButton: {
          enable: true /* Set to false to hide */
        }
      }]);

      OneSignal.push(function() {
        /* These examples are all valid
        OneSignal.getUserId(function(userId) {
          console.log("OneSignal User ID:", userId);
          // (Output) OneSignal User ID: 270a35cd-4dda-4b3f-b04e-41d7463a2316
        });*/

        OneSignal.getUserId().then(function(userId) {
          console.log("OneSignal User ID:", userId);
          // (Output) OneSignal User ID: 270a35cd-4dda-4b3f-b04e-41d7463a2316
        });
      });
    </script> -->


  </head>

  <body>

    <h1>Hello World?</1>

   <a href="#" id="subscribe-link" style="display: none;">Subscribe to Notifications</a>
   <script>


       var OneSignal = window.OneSignal || [];
       OneSignal.push(["init", {
         appId: "27089081-c27e-454a-a2e0-975db773550d",
         autoRegister: false,
         notifyButton: {
           enable: false /* Set to false to hide */
         }
       }]);
       function subscribe() {
         OneSignal.push(function() {
          OneSignal.registerForPushNotifications({
            modalPrompt: true
          });
         });
       }



       OneSignal.push(function() {
           // If we're on an unsupported browser, do nothing
           if (!OneSignal.isPushNotificationsSupported()) {
               return;
           }
           OneSignal.isPushNotificationsEnabled(function(isEnabled) {
               if (isEnabled) {
                   // The user is subscribed to notifications
                   // Don't show anything
                   console.log("subscribed");
               } else {
                 console.log("not subscribed");
                   document.getElementById("subscribe-link").addEventListener('click', subscribe);
                   document.getElementById("subscribe-link").style.display = '';
               }
           });
       });
   </script>
  </body>
</html>
